.ai-drawer {
    width: 360px;
    border-left: 1px solid var(--mud-palette-divider);
}

.ai-drawer-mobile {
    height: 60vh;
}

.ai-fab {
    position: fixed;
    right: 1rem;
    bottom: 1rem;
}

.ai-drawer-mobile {
    height: 60vh; /* normal bottom sheet height */
    max-height: 60vh;
}

    .ai-drawer-mobile.full {
        height: 100% !important; /* take over screen */
        max-height: 100% !important;
    }

.ai-message {
    align-self: flex-start;
    max-width: 80%;
}

.chat-sheet {
    border: 1px solid var(--mud-palette-grey-light);
    border-radius: var(--mud-default-borderradius);
}

.chat-header {
    position: sticky;
    top: 0;
    z-index: 1;
    background: var(--mud-palette-surface);
    padding: .25rem .25rem .25rem .25rem;
    border-bottom: 1px solid var(--mud-palette-divider);
}

.chat-container {
    display: flex;
    flex-direction: column;
    gap: .5rem;
    padding: 1rem;
}

.user-message {
    align-self: flex-end;
    padding: .75rem 1rem;
    border-radius: 12px;
    max-width: 80%;
    background-color: #E0F2FE;
    color: #111827;
}

.chatpanel-root {
    display: flex;
    flex-direction: column;
    height: 100%;
}

/* (optional) header row above messages */
.chatpanel-header {
    padding: .25rem .25rem 0 .25rem;
}

/* Messages container and the actual scroll surface */
.chatpanel-messages {
    flex: 1 1 auto; /* <-- fills all available vertical space */
    overflow: hidden; /* let inner div scroll instead */
    display: flex;
    flex-direction: column;
}

.chatpanel-scroll {
    flex: 1 1 auto;
    overflow-y: auto;
    display: flex;
    flex-direction: column;
    gap: .375rem;
}

.chatpanel-composer {
    flex: 0 0 auto; /* always sits at the bottom */
    margin-top: .5rem;
}

/* Message bubbles */
.chat-msg {
    max-width: 90%;
}

.chat-msg-user {
    align-self: flex-end;
    padding: .25rem .5rem;
}

.chat-msg-ai {
    align-self: flex-start;
}

.loading-progress {
    position: fixed;
    top: 50%;
    left: 50%;
    width: 48px;
    height: 48px;
    transform: translate(-50%, -50%);
    color: #4A90E2; /* matches your Primary */
}

    .loading-progress circle {
        fill: none;
        stroke: currentColor;
        stroke-width: 6;
    }

html.light {
    background-color: #ffffff;
    color-scheme: light;
}

html.dark {
    background-color: #212121;
    color-scheme: dark;
}

    html.dark .mud-paper,
    html.dark .mud-drawer,
    html.dark .mud-appbar {
        box-shadow: 0 1px 2px rgba(0,0,0,.35), 0 4px 12px rgba(0,0,0,.25);
    }

    /* Subtle hover for list items on dark */
    html.dark .mud-list-item:hover {
        background: #333333;
    }

    /* Primary button hover a bit darker, still green */
    html.dark .mud-button-filled-primary:hover {
        filter: brightness(0.95);
    }

/* Strip height: responsive but bounded */
.hero-carousel {
    height: clamp(220px, 35vh, 420px);
    border-radius: 12px;
    overflow: hidden; /* hide any crop edges */
}

    /* MudCarousel adds padding inside items—remove for edge-to-edge imagery */
    .hero-carousel .mud-carousel-item {
        padding: 0;
    }

/* Make images fill the frame and crop as needed */
.hero-img {
    width: 100%;
    height: 100%;
    display: block; /* removes inline-gap */
    object-fit: cover; /* key: fill without letterboxing */
    object-position: center; /* center the crop */
}

/* Optional: a touch more pop in dark mode */
html.dark .hero-img {
    filter: contrast(1.05) saturate(1.06);
}

/* If you want an even wider feel, swap height clamp for aspect ratio: */
/*
.hero-carousel { aspect-ratio: 21 / 9; height: auto; }
*/